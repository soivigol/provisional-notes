{"ast":null,"code":"import _objectSpread from\"/Users/david/provisional-notes/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import NotesList from'./components/NotesList';import NoteEditor from'./components/NoteEditor';import NoteViewer from'./components/NoteViewer';import{loadNotes,saveNotes,generateId}from'./utils/storage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[notes,setNotes]=useState([]);const[currentView,setCurrentView]=useState('list');// 'list', 'editor', 'viewer'\nconst[selectedNote,setSelectedNote]=useState(null);const[editingNote,setEditingNote]=useState(null);// Load notes on component mount\nuseEffect(()=>{setNotes(loadNotes());},[]);// Save notes whenever notes state changes\nuseEffect(()=>{if(notes.length>0){saveNotes(notes);}},[notes]);const createNewNote=()=>{const newNote={id:null,// Set to null for new notes\ntitle:'',content:'',createdAt:Date.now(),updatedAt:Date.now()};setEditingNote(newNote);setCurrentView('editor');};const saveNote=noteData=>{console.log('Saving note:',noteData);// Debug log\nlet savedNote;if(noteData.id){// Update existing note\nsavedNote=_objectSpread(_objectSpread({},noteData),{},{updatedAt:Date.now()});setNotes(prev=>prev.map(note=>note.id===noteData.id?savedNote:note));}else{// Create new note\nsavedNote=_objectSpread(_objectSpread({},noteData),{},{id:generateId(),createdAt:Date.now(),updatedAt:Date.now()});console.log('Creating new note:',savedNote);// Debug log\nsetNotes(prev=>[...prev,savedNote]);}// Go to view page instead of list\nsetSelectedNote(savedNote);setCurrentView('viewer');setEditingNote(null);};const deleteNote=noteId=>{setNotes(prev=>prev.filter(note=>note.id!==noteId));setCurrentView('list');setSelectedNote(null);};const viewNote=note=>{setSelectedNote(note);setCurrentView('viewer');};const editNote=note=>{setEditingNote(note);setCurrentView('editor');};const goToList=()=>{setCurrentView('list');setSelectedNote(null);setEditingNote(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Provisional Notes\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Quick notes for sharing on WhatsApp, Telegram, and email\"})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[currentView==='list'&&/*#__PURE__*/_jsx(NotesList,{notes:notes,onCreateNew:createNewNote,onViewNote:viewNote}),currentView==='editor'&&/*#__PURE__*/_jsx(NoteEditor,{note:editingNote,onSave:saveNote,onCancel:goToList}),currentView==='viewer'&&selectedNote&&/*#__PURE__*/_jsx(NoteViewer,{note:selectedNote,onEdit:()=>editNote(selectedNote),onDelete:()=>deleteNote(selectedNote.id),onBack:goToList})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","NotesList","NoteEditor","NoteViewer","loadNotes","saveNotes","generateId","jsx","_jsx","jsxs","_jsxs","App","notes","setNotes","currentView","setCurrentView","selectedNote","setSelectedNote","editingNote","setEditingNote","length","createNewNote","newNote","id","title","content","createdAt","Date","now","updatedAt","saveNote","noteData","console","log","savedNote","_objectSpread","prev","map","note","deleteNote","noteId","filter","viewNote","editNote","goToList","className","children","onCreateNew","onViewNote","onSave","onCancel","onEdit","onDelete","onBack"],"sources":["/Users/david/provisional-notes/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport NotesList from './components/NotesList';\nimport NoteEditor from './components/NoteEditor';\nimport NoteViewer from './components/NoteViewer';\nimport { loadNotes, saveNotes, generateId } from './utils/storage';\n\nfunction App() {\n  const [notes, setNotes] = useState([]);\n  const [currentView, setCurrentView] = useState('list'); // 'list', 'editor', 'viewer'\n  const [selectedNote, setSelectedNote] = useState(null);\n  const [editingNote, setEditingNote] = useState(null);\n\n  // Load notes on component mount\n  useEffect(() => {\n    setNotes(loadNotes());\n  }, []);\n\n  // Save notes whenever notes state changes\n  useEffect(() => {\n    if (notes.length > 0) {\n      saveNotes(notes);\n    }\n  }, [notes]);\n\n  const createNewNote = () => {\n    const newNote = {\n      id: null, // Set to null for new notes\n      title: '',\n      content: '',\n      createdAt: Date.now(),\n      updatedAt: Date.now()\n    };\n    setEditingNote(newNote);\n    setCurrentView('editor');\n  };\n\n  const saveNote = (noteData) => {\n    console.log('Saving note:', noteData); // Debug log\n    \n    let savedNote;\n    \n    if (noteData.id) {\n      // Update existing note\n      savedNote = { ...noteData, updatedAt: Date.now() };\n      setNotes(prev => prev.map(note => \n        note.id === noteData.id \n          ? savedNote\n          : note\n      ));\n    } else {\n      // Create new note\n      savedNote = {\n        ...noteData,\n        id: generateId(),\n        createdAt: Date.now(),\n        updatedAt: Date.now()\n      };\n      console.log('Creating new note:', savedNote); // Debug log\n      setNotes(prev => [...prev, savedNote]);\n    }\n    \n    // Go to view page instead of list\n    setSelectedNote(savedNote);\n    setCurrentView('viewer');\n    setEditingNote(null);\n  };\n\n  const deleteNote = (noteId) => {\n    setNotes(prev => prev.filter(note => note.id !== noteId));\n    setCurrentView('list');\n    setSelectedNote(null);\n  };\n\n  const viewNote = (note) => {\n    setSelectedNote(note);\n    setCurrentView('viewer');\n  };\n\n  const editNote = (note) => {\n    setEditingNote(note);\n    setCurrentView('editor');\n  };\n\n  const goToList = () => {\n    setCurrentView('list');\n    setSelectedNote(null);\n    setEditingNote(null);\n  };\n\n  return (\n    <div className=\"app\">\n      <header className=\"header\">\n        <h1>Provisional Notes</h1>\n        <p>Quick notes for sharing on WhatsApp, Telegram, and email</p>\n      </header>\n\n      <main className=\"main-content\">\n        {currentView === 'list' && (\n          <NotesList \n            notes={notes}\n            onCreateNew={createNewNote}\n            onViewNote={viewNote}\n          />\n        )}\n\n        {currentView === 'editor' && (\n          <NoteEditor \n            note={editingNote}\n            onSave={saveNote}\n            onCancel={goToList}\n          />\n        )}\n\n        {currentView === 'viewer' && selectedNote && (\n          <NoteViewer \n            note={selectedNote}\n            onEdit={() => editNote(selectedNote)}\n            onDelete={() => deleteNote(selectedNote.id)}\n            onBack={goToList}\n          />\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}